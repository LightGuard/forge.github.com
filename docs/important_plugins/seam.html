<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8' />
    <title>JBoss Forge | Seam</title>
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <style type='text/css'>
      /*<![CDATA[*/
        body {
          padding-top: 60px;
        }
      /*]]>*/
    </style>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js' type='text/javascript'></script>
    <link href='/stylesheets/styles.css' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/bootstrap-responsive.min.css' rel='stylesheet' type='text/css' />
    <link href='/stylesheets/prettify.css' rel='stylesheet' type='text/css' />
    <!--[if lt IE 9]>
      <script src='//html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
    <![endif]-->
    <script src='/javascripts/bootstrap.min.js' type='text/javascript'></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    <script type='text/javascript'>
      //<![CDATA[
        $(document).ready(function() {
          $("pre.prettyprint code").removeClass("prettyprint").removeClass("linenums");
          prettyPrint();
        });
      //]]>
    </script>
  </head>
  <body>
    <div class='navbar navbar-fixed-top'>
      <div class='navbar-inner'>
        <div class='container'>
          <a class='btn btn-navbar' data-target='.nav-collapse' data-toggle='collapse'>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
          </a>
          <a class='brand' href='/index.html'>JBoss Forge</a>
          <div class='nav-collapse'>
            <ul class='nav'>
              <li>
                <a href='/index.html'>Home</a>
              </li>
              <li>
                <a href='/docs/index.html'>Documentation</a>
              </li>
              <li>
                <a href='https://community.jboss.org/en/forge'>Forums</a>
              </li>
              <li>
                <a href='/plugins.html'>Plugins</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class='content'>
      <script type='text/javascript'>
        //<![CDATA[
          $(document).ready(function() {
            var pathname = window.location.pathname;
            console.log(pathname);
            $("body > .navbar a[href='/docs/index.html']").closest("li").addClass("active");
            $("body > .content ul.nav a[href='" + pathname + "']").closest("li").addClass("active");
          });
        //]]>
      </script>
      <div class='container-fluid'>
        <div class='row-fluid'>
          <div class='span2'>
            <ul class='nav nav-list'>
              <li class='nav-header'>Using Forge</li>
              <li>
                <a href='/docs/using/'>Installation</a>
              </li>
              <li>
                <a href='/docs/using/installing-new-plugins.html'>Installing new Plugins</a>
              </li>
              <li>
                <a href='/docs/using/basic-javaee-app.html'>Writing Basic Java EE App</a>
              </li>
              <li>
                <a href='/docs/using/samples.html'>Samples</a>
              </li>
              <li>
                <a href='/docs/using/configure-proxy.html'>Configure HTTP Proxy</a>
              </li>
              <li>
                <a href='/docs/using/debuggin-foge.html'>Debugging Forge</a>
              </li>
              <li>
                <a href='/docs/using/faq.html'>FAQ</a>
              </li>
              <li>
                <a href='/docs/using/affiliation.html'>Affiliation</a>
              </li>
              <li class='nav-header'>Get involved</li>
              <li>
                <a href='/docs/get_involved/contribute.html'>Contribute or Get Involved</a>
              </li>
              <li>
                <a href='/docs/get_involved/release-guide.html'>Release Guide</a>
              </li>
              <li class='nav-header'>Important plugins</li>
              <li>
                <a href='/docs/important_plugins/arquillian-testing.html'>Arquillian Testing</a>
              </li>
              <li>
                <a href='/docs/important_plugins/seam.html'>Seam</a>
              </li>
              <li>
                <a href='/docs/important_plugins/ui-scaffolding.html'>UI Scaffolding</a>
              </li>
              <li class='nav-header'>Developing plugins</li>
              <li>
                <a href='/docs/plugin_development/'>Developing a plugin</a>
              </li>
              <li>
                <a href='/docs/plugin_development/reference-forge-api.html'>Reference Forge API</a>
              </li>
              <li>
                <a href='/docs/plugin_development/implement-plugin-interface.html'>Implement the Plugin interface</a>
              </li>
              <li>
                <a href='/docs/plugin_development/give-your-plugin-name.html'>Give your Plugin a name</a>
              </li>
              <li>
                <a href='/docs/plugin_development/add-commands-to-plugin.html'>Add Commands to your Plugin</a>
              </li>
              <li>
                <a href='/docs/plugin_development/add-options-to-command.html'>Add Options to your Commands</a>
              </li>
              <li>
                <a href='/docs/plugin_development/enable-piping.html'>Enable Piping between Commands</a>
              </li>
              <li>
                <a href='/docs/plugin_development/facets.html'>Enable modular functionality with Facets</a>
              </li>
              <li>
                <a href='/docs/plugin_development/test-plugins.html'>Test your Plugin</a>
              </li>
              <li>
                <a href='/docs/plugin_development/reference-libraries.html'>Reference Libraries</a>
              </li>
              <li>
                <a href='/docs/plugin_development/make-plugin-available.html'>Make your Plugin available to Forge</a>
              </li>
              <li>
                <a href='/docs/plugin_development/add-plugin-cpi.html'>Add your Plugin to the Central Plugin Index</a>
              </li>
              <li>
                <a href='/docs/plugin_development/important-apis.html'>Important APIs</a>
              </li>
            </ul>
          </div>
          <div class='span10'>
            <h1>Seam</h1>
            <h2>Introduction</h2>
            <p>Seam 3 is very modular because it&#8217;s a set of <span class="caps">CDI</span> extensions. You don&#8217;t have (and shouldn&#8217;t) pull in everything of Seam 3 just because you need small parts of it. Instead you pull in one module at a time.</p>
            <p>Each module comes with some additional Maven dependencies and some configuration file changes. Forge helps you setting this up automatically. This page describes the Seam related plugins.</p>
            <h2>Seam Persistence</h2>
            <p><a href="http://seamframework.org/Seam3/PersistenceModule">Seam Persistence</a> makes working with <span class="caps">JPA</span> easier and brings declarative transaction management to plain beans (no <span class="caps">EJB</span> required). You can watch <a href="http://vimeo.com/24215263">this video</a> for more details.</p>
            <h3>Seam Managed Persistence Context</h3>
            <p>If you&#8217;re using Seam outside of a Java EE environment, you can&#8217;t rely upon the container to manage the persistence context lifecycle for you. Even if you are in an EE environment, you might have a complex application with many loosely coupled components that collaborate together in the scope of a single conversation, and in this case you might find that propagation of the persistence context between component is tricky and error-prone. Another example is using lazy loading on <span class="caps">JSF</span> pages.</p>
            <p>In either case, you&#8217;ll need to use a managed persistence context (for <span class="caps">JPA</span>) or a managed session (for Hibernate) in your components. A Seam-managed persistence context is just a built-in Seam component that manages an instance of EntityManager or Session in the conversation (or any other) context. You can inject it with @Inject.</p>
            <p>You can set up the Seam Managed Persistence context using Forge:</p>
            <pre class="command"><code class="command">seam-persistence install-managed-persistence-context</code></pre>
            <p>The Seam Persistence Maven dependencies are added and and a new class that acts as the Persistence Unit Producer is generated.</p>
            <p>Now inject the managed Persistence Context in your code:</p>
            <pre class="prettyprint linenum"><code class="prettyprint linenum">@Inject EntityManager entityManager;</code></pre>
            <p>Now try lazy loading on a <span class="caps">JSF</span> page and see that it magically works!</p>
            <h3>Declarative transactions</h3>
            <p>This Seam Persistence feature brings <span class="caps">EJB</span> 3 style declarative transactions to plain beans. This even works outside of a Java EE container where <span class="caps">EJB</span> is not available at all.</p>
            <p>To use Transaction Management you need some configuration in beans.xml, Forge will add that for you. Simply type:</p>
            <pre class="command"><code class="command">seam-persistence enable-declarative-tx</code></pre>
            <p>Now you can use declarative TX management.</p>
            <pre class="prettyprint linenum"><code class="prettyprint linenum">@TransactionAttribute /*Defaults to TransactionAttributeType.REQUIRED */&#x000A;public class TransactionaBean {&#x000A;   public void doWork() {&#x000A;   }</code>&#x000A;&#x000A;<code class="prettyprint linenum">   @TransactionAttributeType(TransactionAttributeType.SUPPORTED)&#x000A;   public void doMoreWork() {</code>&#x000A;&#x000A;<code class="prettyprint linenum">   }&#x000A;}&#x000A;</code></pre>
          </div>
        </div>
      </div>
      <hr />
      <footer>
        <p>&copy; JBoss 2012</p>
      </footer>
    </div>
  </body>
</html>
